module Codec.Soten.Importer.Md2Importer (
    Md2Importer(..)
) where

import           Linear (V3(..))

import           Codec.Soten.BaseImporter
                 ( BaseImporter(..)
                 , searchFileHeaderForToken
                 )
import           Codec.Soten.Scene
                 ( Scene(..)
                 , sceneMeshes
                 , sceneMaterials
                 , sceneRootNode
                 , newScene
                 , nodeMeshes
                 , newNode
                 )
import           Codec.Soten.Util
                 ( CheckType(..)
                 , DeadlyImporterError(..)
                 , throw
                 , hasExtention
                 )

data Md2Importer =
    Md2Importer
    deriving Show

instance BaseImporter Md2Importer where
  canImport _ filePath CheckExtension = return $ hasExtention filePath [".md2"]
  canImport _ filePath CheckHeader    =
      searchFileHeaderForToken filePath ["IDP2"]
  readModel _ = internalReadFile

-- | Reads file content and parsers it into the 'Scene'. Returns error messages
-- as 'String's.
internalReadFile :: FilePath -> IO (Either String Scene)
internalReadFile = undefined

normals :: [V3 Float]
normals =
  [ V3 (-0.525731) ( 0.000000) ( 0.850651)
  , V3 (-0.442863) ( 0.238856) ( 0.864188)
  , V3 (-0.295242) ( 0.000000) ( 0.955423)
  , V3 (-0.309017) ( 0.500000) ( 0.809017)
  , V3 (-0.162460) ( 0.262866) ( 0.951056)
  , V3 ( 0.000000) ( 0.000000) ( 1.000000)
  , V3 ( 0.000000) ( 0.850651) ( 0.525731)
  , V3 (-0.147621) ( 0.716567) ( 0.681718)
  , V3 ( 0.147621) ( 0.716567) ( 0.681718)
  , V3 ( 0.000000) ( 0.525731) ( 0.850651)
  , V3 ( 0.309017) ( 0.500000) ( 0.809017)
  , V3 ( 0.525731) ( 0.000000) ( 0.850651)
  , V3 ( 0.295242) ( 0.000000) ( 0.955423)
  , V3 ( 0.442863) ( 0.238856) ( 0.864188)
  , V3 ( 0.162460) ( 0.262866) ( 0.951056)
  , V3 (-0.681718) ( 0.147621) ( 0.716567)
  , V3 (-0.809017) ( 0.309017) ( 0.500000)
  , V3 (-0.587785) ( 0.425325) ( 0.688191)
  , V3 (-0.850651) ( 0.525731) ( 0.000000)
  , V3 (-0.864188) ( 0.442863) ( 0.238856)
  , V3 (-0.716567) ( 0.681718) ( 0.147621)
  , V3 (-0.688191) ( 0.587785) ( 0.425325)
  , V3 (-0.500000) ( 0.809017) ( 0.309017)
  , V3 (-0.238856) ( 0.864188) ( 0.442863)
  , V3 (-0.425325) ( 0.688191) ( 0.587785)
  , V3 (-0.716567) ( 0.681718) (-0.147621)
  , V3 (-0.500000) ( 0.809017) (-0.309017)
  , V3 (-0.525731) ( 0.850651) ( 0.000000)
  , V3 ( 0.000000) ( 0.850651) (-0.525731)
  , V3 (-0.238856) ( 0.864188) (-0.442863)
  , V3 ( 0.000000) ( 0.955423) (-0.295242)
  , V3 (-0.262866) ( 0.951056) (-0.162460)
  , V3 ( 0.000000) ( 1.000000) ( 0.000000)
  , V3 ( 0.000000) ( 0.955423) ( 0.295242)
  , V3 (-0.262866) ( 0.951056) ( 0.162460)
  , V3 ( 0.238856) ( 0.864188) ( 0.442863)
  , V3 ( 0.262866) ( 0.951056) ( 0.162460)
  , V3 ( 0.500000) ( 0.809017) ( 0.309017)
  , V3 ( 0.238856) ( 0.864188) (-0.442863)
  , V3 ( 0.262866) ( 0.951056) (-0.162460)
  , V3 ( 0.500000) ( 0.809017) (-0.309017)
  , V3 ( 0.850651) ( 0.525731) ( 0.000000)
  , V3 ( 0.716567) ( 0.681718) ( 0.147621)
  , V3 ( 0.716567) ( 0.681718) (-0.147621)
  , V3 ( 0.525731) ( 0.850651) ( 0.000000)
  , V3 ( 0.425325) ( 0.688191) ( 0.587785)
  , V3 ( 0.864188) ( 0.442863) ( 0.238856)
  , V3 ( 0.688191) ( 0.587785) ( 0.425325)
  , V3 ( 0.809017) ( 0.309017) ( 0.500000)
  , V3 ( 0.681718) ( 0.147621) ( 0.716567)
  , V3 ( 0.587785) ( 0.425325) ( 0.688191)
  , V3 ( 0.955423) ( 0.295242) ( 0.000000)
  , V3 ( 1.000000) ( 0.000000) ( 0.000000)
  , V3 ( 0.951056) ( 0.162460) ( 0.262866)
  , V3 ( 0.850651) (-0.525731) ( 0.000000)
  , V3 ( 0.955423) (-0.295242) ( 0.000000)
  , V3 ( 0.864188) (-0.442863) ( 0.238856)
  , V3 ( 0.951056) (-0.162460) ( 0.262866)
  , V3 ( 0.809017) (-0.309017) ( 0.500000)
  , V3 ( 0.681718) (-0.147621) ( 0.716567)
  , V3 ( 0.850651) ( 0.000000) ( 0.525731)
  , V3 ( 0.864188) ( 0.442863) (-0.238856)
  , V3 ( 0.809017) ( 0.309017) (-0.500000)
  , V3 ( 0.951056) ( 0.162460) (-0.262866)
  , V3 ( 0.525731) ( 0.000000) (-0.850651)
  , V3 ( 0.681718) ( 0.147621) (-0.716567)
  , V3 ( 0.681718) (-0.147621) (-0.716567)
  , V3 ( 0.850651) ( 0.000000) (-0.525731)
  , V3 ( 0.809017) (-0.309017) (-0.500000)
  , V3 ( 0.864188) (-0.442863) (-0.238856)
  , V3 ( 0.951056) (-0.162460) (-0.262866)
  , V3 ( 0.147621) ( 0.716567) (-0.681718)
  , V3 ( 0.309017) ( 0.500000) (-0.809017)
  , V3 ( 0.425325) ( 0.688191) (-0.587785)
  , V3 ( 0.442863) ( 0.238856) (-0.864188)
  , V3 ( 0.587785) ( 0.425325) (-0.688191)
  , V3 ( 0.688191) ( 0.587785) (-0.425325)
  , V3 (-0.147621) ( 0.716567) (-0.681718)
  , V3 (-0.309017) ( 0.500000) (-0.809017)
  , V3 ( 0.000000) ( 0.525731) (-0.850651)
  , V3 (-0.525731) ( 0.000000) (-0.850651)
  , V3 (-0.442863) ( 0.238856) (-0.864188)
  , V3 (-0.295242) ( 0.000000) (-0.955423)
  , V3 (-0.162460) ( 0.262866) (-0.951056)
  , V3 ( 0.000000) ( 0.000000) (-1.000000)
  , V3 ( 0.295242) ( 0.000000) (-0.955423)
  , V3 ( 0.162460) ( 0.262866) (-0.951056)
  , V3 (-0.442863) (-0.238856) (-0.864188)
  , V3 (-0.309017) (-0.500000) (-0.809017)
  , V3 (-0.162460) (-0.262866) (-0.951056)
  , V3 ( 0.000000) (-0.850651) (-0.525731)
  , V3 (-0.147621) (-0.716567) (-0.681718)
  , V3 ( 0.147621) (-0.716567) (-0.681718)
  , V3 ( 0.000000) (-0.525731) (-0.850651)
  , V3 ( 0.309017) (-0.500000) (-0.809017)
  , V3 ( 0.442863) (-0.238856) (-0.864188)
  , V3 ( 0.162460) (-0.262866) (-0.951056)
  , V3 ( 0.238856) (-0.864188) (-0.442863)
  , V3 ( 0.500000) (-0.809017) (-0.309017)
  , V3 ( 0.425325) (-0.688191) (-0.587785)
  , V3 ( 0.716567) (-0.681718) (-0.147621)
  , V3 ( 0.688191) (-0.587785) (-0.425325)
  , V3 ( 0.587785) (-0.425325) (-0.688191)
  , V3 ( 0.000000) (-0.955423) (-0.295242)
  , V3 ( 0.000000) (-1.000000) ( 0.000000)
  , V3 ( 0.262866) (-0.951056) (-0.162460)
  , V3 ( 0.000000) (-0.850651) ( 0.525731)
  , V3 ( 0.000000) (-0.955423) ( 0.295242)
  , V3 ( 0.238856) (-0.864188) ( 0.442863)
  , V3 ( 0.262866) (-0.951056) ( 0.162460)
  , V3 ( 0.500000) (-0.809017) ( 0.309017)
  , V3 ( 0.716567) (-0.681718) ( 0.147621)
  , V3 ( 0.525731) (-0.850651) ( 0.000000)
  , V3 (-0.238856) (-0.864188) (-0.442863)
  , V3 (-0.500000) (-0.809017) (-0.309017)
  , V3 (-0.262866) (-0.951056) (-0.162460)
  , V3 (-0.850651) (-0.525731) ( 0.000000)
  , V3 (-0.716567) (-0.681718) (-0.147621)
  , V3 (-0.716567) (-0.681718) ( 0.147621)
  , V3 (-0.525731) (-0.850651) ( 0.000000)
  , V3 (-0.500000) (-0.809017) ( 0.309017)
  , V3 (-0.238856) (-0.864188) ( 0.442863)
  , V3 (-0.262866) (-0.951056) ( 0.162460)
  , V3 (-0.864188) (-0.442863) ( 0.238856)
  , V3 (-0.809017) (-0.309017) ( 0.500000)
  , V3 (-0.688191) (-0.587785) ( 0.425325)
  , V3 (-0.681718) (-0.147621) ( 0.716567)
  , V3 (-0.442863) (-0.238856) ( 0.864188)
  , V3 (-0.587785) (-0.425325) ( 0.688191)
  , V3 (-0.309017) (-0.500000) ( 0.809017)
  , V3 (-0.147621) (-0.716567) ( 0.681718)
  , V3 (-0.425325) (-0.688191) ( 0.587785)
  , V3 (-0.162460) (-0.262866) ( 0.951056)
  , V3 ( 0.442863) (-0.238856) ( 0.864188)
  , V3 ( 0.162460) (-0.262866) ( 0.951056)
  , V3 ( 0.309017) (-0.500000) ( 0.809017)
  , V3 ( 0.147621) (-0.716567) ( 0.681718)
  , V3 ( 0.000000) (-0.525731) ( 0.850651)
  , V3 ( 0.425325) (-0.688191) ( 0.587785)
  , V3 ( 0.587785) (-0.425325) ( 0.688191)
  , V3 ( 0.688191) (-0.587785) ( 0.425325)
  , V3 (-0.955423) ( 0.295242) ( 0.000000)
  , V3 (-0.951056) ( 0.162460) ( 0.262866)
  , V3 (-1.000000) ( 0.000000) ( 0.000000)
  , V3 (-0.850651) ( 0.000000) ( 0.525731)
  , V3 (-0.955423) (-0.295242) ( 0.000000)
  , V3 (-0.951056) (-0.162460) ( 0.262866)
  , V3 (-0.864188) ( 0.442863) (-0.238856)
  , V3 (-0.951056) ( 0.162460) (-0.262866)
  , V3 (-0.809017) ( 0.309017) (-0.500000)
  , V3 (-0.864188) (-0.442863) (-0.238856)
  , V3 (-0.951056) (-0.162460) (-0.262866)
  , V3 (-0.809017) (-0.309017) (-0.500000)
  , V3 (-0.681718) ( 0.147621) (-0.716567)
  , V3 (-0.681718) (-0.147621) (-0.716567)
  , V3 (-0.850651) ( 0.000000) (-0.525731)
  , V3 (-0.688191) ( 0.587785) (-0.425325)
  , V3 (-0.587785) ( 0.425325) (-0.688191)
  , V3 (-0.425325) ( 0.688191) (-0.587785)
  , V3 (-0.425325) (-0.688191) (-0.587785)
  , V3 (-0.587785) (-0.425325) (-0.688191)
  , V3 (-0.688191) (-0.587785) (-0.425325)
  ]
